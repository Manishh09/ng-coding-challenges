@use '@angular/material' as mat;
@use '@angular/material/core/theming/palettes' as palettes;

// Dark theme CSS variables aligned with angular.dev
@mixin dark-theme-vars() {
  --surface-primary: var(--gray-950);
  --surface-secondary: var(--gray-900);
  --surface-tertiary: var(--gray-800);

  --text-primary: var(--gray-50);
  --text-secondary: var(--gray-300);
  --text-tertiary: var(--gray-400);

  --border-primary: var(--gray-700);
  --border-secondary: var(--gray-600);

  --background-primary: var(--gray-950);
  --background-secondary: var(--gray-900);

  --interactive-primary: var(--electric-violet);
  --interactive-primary-hover: #a78bfa; // violet-400
  --interactive-secondary: var(--gray-800);
  --interactive-secondary-hover: var(--gray-700);

  // Gradients and brands
  --gradient-primary: linear-gradient(135deg, var(--ruby-red), var(--dark-pink), var(--electric-violet));
  --gradient-secondary: linear-gradient(135deg, var(--bright-blue), var(--electric-violet));
  --brand-gradient-primary: var(--gradient-primary);
  --brand-gradient-hero: var(--gradient-primary);
  --brand-gradient-footer: var(--gradient-primary);
  --brand-gradient-section: linear-gradient(120deg, var(--color-primary-alpha-10), var(--color-secondary-alpha-10));

  // Aliases for component usage
  --color-primary: var(--electric-violet);
  --color-accent: var(--vivid-pink);
  --color-bg: var(--background-primary);
  --color-fg: var(--text-primary);
  --color-surface: var(--surface-secondary);

  // Legacy compatibility aliases
  --surface-color: var(--surface-secondary);
  --surface-variant-color: var(--surface-tertiary);
  --surface-variant-color-rgb: 30,30,30;
  --on-surface-color: var(--text-primary);
  --on-surface-variant-color: var(--text-secondary);
  --outline-color: var(--border-primary);
  --outline-color-rgb: 64,64,64;
  --primary-color: var(--electric-violet);
  --primary-color-rgb: 139, 92, 246;
  --shadow-color: rgba(0,0,0,0.3);

  // Logo theming (brighten slightly for dark bg, keep violet tint)
  --logo-filter: brightness(1.05) contrast(1.05);
  --logo-blend-mode: screen;
  --logo-shadow-color: rgba(139, 92, 246, 0.25);
}

// Material 3 dark theme
@mixin dark-material-theme() {
  $primary-palette: palettes.$violet-palette;
  $tertiary-palette: palettes.$rose-palette;

  $theme: mat.define-theme((
    color: (
      theme-type: dark,
      primary: $primary-palette,
      tertiary: $tertiary-palette,
      use-system-variables: true,
    ),
    density: (
      scale: 0,
    ),
  ));

  // Emit system tokens and component styles (must be inside a selector at call site)
  @include mat.theme($theme);
  @include mat.all-component-colors($theme);
}
