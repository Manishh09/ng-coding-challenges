<mat-card class="challenge-card" [class.challenge-card--latest]="isLatestChallenge()">
  <div class="challenge-card__halo" aria-hidden="true"></div>

  <div class="challenge-card__header">
    <div class="challenge-card__header-left">
      @if (hasNewBadge()) {
      <span class="challenge-card__badge">
        <mat-icon aria-hidden="true">sparkles</mat-icon>
        New
      </span>
      }
    </div>
  </div>

  <mat-card-title class="challenge-card__title">
    {{ challenge().title }}
  </mat-card-title>

  <mat-card-content>
    <p class="challenge-card__description">
      {{ challenge().description }}
    </p>
  </mat-card-content>

  <mat-card-actions class="challenge-card__actions" role="group" aria-label="Challenge actions">
    <button mat-flat-button color="primary" type="button" class="challenge-card__launch-btn"
      [routerLink]="['/challenges', challenge().category, challenge().id]" aria-label="View challenge details">
      <mat-icon aria-hidden="true">visibility</mat-icon>
      View Details
    </button>

    <div class="challenge-card__secondary-actions">
      <button mat-button type="button" class="challenge-card__secondary-btn" (click)="onTryChallenge(challenge())"
        [disabled]="launching()" aria-label="Launch challenge in StackBlitz">
        @if (launching()) {
        <mat-spinner diameter="16" aria-hidden="true"></mat-spinner>
        } @else {
        <mat-icon aria-hidden="true">rocket_launch</mat-icon>
        }
        Launch
      </button>

      <button mat-button type="button" class="challenge-card__secondary-btn" (click)="viewOutput(challenge().link)"
        aria-label="View reference implementation">
        <mat-icon aria-hidden="true">play_circle</mat-icon>
        Solution
      </button>
    </div>
  </mat-card-actions>
</mat-card>